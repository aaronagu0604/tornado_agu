<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>销售代理</title>
    <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css">
    <style>
        .item-header {
            padding: 5px 0;
        }

        .item-header div {
            text-align: center;
            font-size: 15px;
            font-weight: bold;
        }

        .item-row {
            padding: 5px 0;
        }

        .item-row div {
            text-align: center;
            font-size: 15px;
        }

        .item-line {
            margin: 0;
            border-bottom: 1px solid #e5e5e5;
            -webkit-transform-origin: 0 100%;
            transform-origin: 0 100%;
            -webkit-transform: scaleY(.5);
            transform: scaleY(.5);
            padding: 0;
        }

        ul {
            display: block;
            list-style-type: none;
            -webkit-margin-before: 0;
            -webkit-margin-after: 0;
            /*-webkit-margin-start: 0px;*/
            /*-webkit-margin-end: 0px;*/
            -webkit-padding-start: 0;
        }


    </style>
</head>
<body>

<div class="page-group">
    <div class="page">
        <!--<header class="bar bar-nav" style="background-color: #ffffff;">-->
            <!--<a class="icon icon-left pull-left"></a>-->
            <!--<h1 class="title">销售代理</h1>-->
            <!--<a class="button button-nav pull-right">-->
                <!--新建分享-->
            <!--</a>-->
        <!--</header>-->

        <div class="bar bar-header-secondary" style="background-color: #ffffff;height:3.6rem; padding: 0px;">
            <div class="item-line"></div>
            <div class="row" style="padding: 0 5px;">
                <div class="search-input col-40">
                    <input type="search" id="start" placeholder="开始日期">
                </div>
                <div class="search-input col-40">
                    <input type="search" id="end" placeholder="结束日期">
                </div>
                <a class="button button-primary col-20">查看</a>
            </div>
            <div class="item-line"></div>
            <div class="item-header row no-gutter">
                <div class="col-25">姓名</div>
                <div class="col-25">电话</div>
                <div class="col-25">成交单数</div>
                <div class="col-25">成交总价</div>
            </div>
        </div>
        <div class="content infinite-scroll infinite-scroll-bottom" data-distance="100"
             style="background-color: white; top: 5.8rem;">
            <div class="list-block">
                <ul class="list-container">
                    <li>
                    <div class="row item-row  no-gutter">
                        <div class="col-25">张三11</div>
                        <div class="col-25">18289386767</div>
                        <div class="col-25">2</div>
                        <div class="col-25">2345.00</div>
                    </div>
                    <div class="item-line"></div>
                </li>
                </ul>
            </div>
          <!-- 加载提示符 -->
          <div class="infinite-scroll-preloader">
              <div class="preloader"></div>
          </div>
        </div>
    </div>
</div>

</div>


<script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>
<script>
$("#start").calendar({
    value: ['2015-12-05']
});
$("#end").calendar({
    value: ['2015-12-05']
});
// 加载flag
var loading = false;
// 最多可加载的条目
var maxItems = 100;

// 每次加载添加多少条目
var itemsPerLoad = 20;

function addItems(number, lastIndex) {
      // 生成新条目的HTML
      var html = '';
      for (var i = lastIndex + 1; i <= lastIndex + number; i++) {
          html += '<li class="item-content"><div class="item-inner"><div class="item-title">Item ' + i + '</div></div></li>';
      }
      // 添加新条目
      $('.infinite-scroll-bottom .list-container').append(html);

  }
  //预先加载20条
addItems(itemsPerLoad, 0);

// 上次加载的序号

var lastIndex = 20;

// 注册'infinite'事件处理函数
$(document).on('infinite', '.infinite-scroll-bottom',function() {

  // 如果正在加载，则退出
  if (loading) return;

  // 设置flag
  loading = true;

  // 模拟1s的加载过程
  setTimeout(function() {
      // 重置加载flag
      loading = false;

      if (lastIndex >= maxItems) {
          // 加载完毕，则注销无限加载事件，以防不必要的加载
          $.detachInfiniteScroll($('.infinite-scroll'));
          // 删除加载提示符
          $('.infinite-scroll-preloader').remove();
          return;
      }

      // 添加新条目
      addItems(itemsPerLoad, lastIndex);
      // 更新最后加载的序号
      lastIndex = $('.list-container li').length;
      //容器发生改变,如果是js滚动，需要刷新滚动
      $.refreshScroller();
  }, 1000);
});
</script>
</body>
</html>